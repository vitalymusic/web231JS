<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>  

        <div>

        </div>


        <form action="" id="form1">
            <input type="text" name="title">
            <textarea name="body" id="" cols="30" rows="10"></textarea>
            <input type="submit" value="Отправить">
        </form>


        <script>
            let users = [];

            let form = document.querySelector('#form1');
            form.onsubmit = (event)=>{
                event.preventDefault();
                data = new FormData(form);
                sendData(data);

            }


            function sendData(data){
                fetch('https://jsonplaceholder.typicode.com/posts', {
                method: 'POST',
                body: data, //Тело запроса
                headers: {
                    'Content-type': 'text/html; charset=utf-8',
                },
                })
            .then((response) => response.json())
            .then((json) => console.log(json));
            }

        


            fetch('data.json')
            .then((response) => response.json())
            .then((json) => {
                   json.map((item)=>{
                        document.querySelector('div').innerHTML +=`
                        
                        <div>
                            <h1>${item.username}</h1>    
                            <h1>${item.age}</h1>    
                        </div>
                        `
                   }) 
            });

        </script>



        <script>
            // Получение данных с сервера

            // const http = new XMLHttpRequest();
            // http.onreadystatechange = () => {
            //     if (http.readyState === 4) {
            //         let data = JSON.parse(http.response);
            //         console.log(data);
            //     }
            // }

            // http.open('GET','https://jsonplaceholder.typicode.com/users/1/posts');
            // http.send();
            
            // fetch('https://jsonplaceholder.typicode.com/users/1/posts')
            // .then((response) => response.json())
            // .then((json) => console.log(json));

            
    


            // ОТправка данных


            // fetch('https://jsonplaceholder.typicode.com/posts', {
            //     method: 'POST',
            //     body: JSON.stringify({
            //         title: 'foo',
            //         body: 'bar',
            //         userId: 1,
            //     }),
            //     headers: {
            //         'Content-type': 'application/json; charset=UTF-8',
            //     },
            //     })
            // .then((response) => response.json())
            // .then((json) => console.log(json));
        </script>
</body>
</html>